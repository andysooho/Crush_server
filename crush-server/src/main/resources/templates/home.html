<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChatGPT Demo</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
<h1>ChatGPT Demo</h1>
<form id="chat-form">
    <label for="user-input">input:</label>
    <input type="text" id="user-input" name="user-input" required>
    <button type="submit">Submit</button>
</form>
<h2>응답:</h2>
<div id="response-container"></div>

<script>
        $(document).ready(function() {
            $('#chat-form').on('submit', function(event) {
                event.preventDefault();

                let userInput = $('#user-input').val();

                // Replace this with the appropriate server URL and endpoint.
                let apiUrl = 'https://api.openai.com/v1/completions';

                let chatGptRequest = {
                    prompt: userInput,
                    maxTokens: 50,
                    temperature: 0.7
                };

                $.ajax
                ({
                    type: 'POST',
                    url: apiUrl,
                    data: JSON.stringify(chatGptRequest),
                    contentType: 'application/json',
                    success: function(response) {
                        let chatGptMessage = response.choices[0].message;
                        $('#response-container').text(chatGptMessage.content);
                        },
                    error: function(jqXHR, textStatus, errorThrown) {
                    console.error('Error: ' + textStatus + ', ' + errorThrown);
                    $('#response-container').text('Error: Could not get response from server.');
                    }
                });
              });
            });

</script>

</body>
</html>
